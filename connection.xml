<?xml version="1.0" encoding="UTF-8"?>

<!-- begin_generated_IBM_copyright_prolog                             -->

<!--                                                                  -->



<st:connections xmlns:st="http://www.ibm.com/xmlns/prod/streams/adapters"

                xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">

  <connection_specifications>

    <!-- Here, you must substitute the DB name, DB user id, and DB password that are meaningful to your needs. -->

    <connection_specification name="BIGDATALOOKUP">

      <ODBC database="BIGDATALOOKUP" user="system" password="passw0rd"/>

    </connection_specification>

  </connection_specifications>



  <access_specifications>

    <access_specification name="enrichFromSubscriberLookup">

    <query query="SELECT KULLANICI_KIMLIK, CAST(ADSL_NO AS INTEGER) AS ADSL_NO, IL, ILCE, MAHALLE, MUDURLUK, SANTRAL, DSLAM, DSLAM_IP, MPLS_ID, MPLS_ADI, REDBACK_ID, REDBACK_NAME, SERVIS, BOLGE_ADI, TO_CHAR(ADSL_SATIS_TARIHI) AS ADSL_SATIS_TARIHI, PROD_OFR, URUN_STATUSU, SON_GERCEKLESEN_BI, TO_CHAR(SON_GERCEKLESEN_BI_TARIHI) as SON_GERCEKLESEN_BI_TARIHI , TO_CHAR(SON_NAKIL_TARIHI) AS SON_NAKIL_TARIHI, CUST_TP, DSL_QUOTA , LIMITLI_LIMITSIZ, IS_NDSL, IPTV_NO, to_char(FIBER_MIGRATION_TARIHI) as FIBER_MIGRATION_TARIHI, to_char(CHURN_DATE) as CHURN_DATE, to_char(SON_ARIZA_KAYDI_TARIHI) as SON_ARIZA_KAYDI_TARIHI, SON_ARIZA_TIPI,IS_VIP FROM BIG_DATA_DATAMART WHERE 1 = ? " isolation_level="READ_COMMITTED" replays="1"/>

    <parameters>                                                                     

  <parameter name="LASTREFRESH" type="int32" />                                           

</parameters> 

<uses_connection connection="BIGDATALOOKUP" />

    <native_schema>



<column name="KULLANICI_KIMLIK" type="VARCHAR" length="100"/>

<column name="ADSL_NO" type="INTEGER" />

<column name="IL" type="VARCHAR" length="100"/>

<column name="ILCE" type="VARCHAR" length="100"/>

<column name="MAHALLE" type="VARCHAR" length="100"/>

<column name="MUDURLUK" type="VARCHAR" length="50"/>

<column name="SANTRAL" type="DOUBLE" />

<column name="DSLAM" type="VARCHAR" length="100"/>

<column name="DSLAM_IP" type="VARCHAR" length="100"/>

<column name="MPLS_ID" type="DOUBLE" />


<column name="MPLS_ADI" type="VARCHAR" length="255"/>

<column name="REDBACK_ID" type="DOUBLE" />

<column name="REDBACK_NAME" type="VARCHAR" length="100"/>

<column name="SERVIS" type="VARCHAR" length="100"/>

<column name="BOLGE_ADI" type="VARCHAR" length="100"/>

<column name="ADSL_SATIS_TARIHI" type="VARCHAR" length="100"/>

<column name="PROD_OFR" type="VARCHAR" length="100"/>

<column name="URUN_STATUSU" type="VARCHAR" length="100"/>

<column name="SON_GERCEKLESEN_BI" type="VARCHAR" length="100"/>

<column name="SON_GERCEKLESEN_BI_TARIHI" type="VARCHAR" length="100"/>

<column name="SON_NAKIL_TARIHI" type="VARCHAR" length="100"/>

<column name="CUST_TP" type="VARCHAR" length="1"/>

<column name="DSL_QUOTA" type="VARCHAR" length="100"/>

<column name="LIMITLI_LIMITSIZ" type="DOUBLE"/>

<column name="IS_NDSL" type="DOUBLE"/>

<column name="IPTV_NO" type="VARCHAR" length="100"/>

<column name="FIBER_MIGRATION_TARIHI" type="VARCHAR" length="100"/>

<column name="CHURN_DATE" type="VARCHAR" length="100"/>

<column name="SON_ARIZA_KAYDI_TARIHI" type="VARCHAR" length="100"/>

<column name="SON_ARIZA_TIPI" type="VARCHAR" length="35"/>

<column name="IS_VIP" type="DOUBLE"/>




      </native_schema> 

</access_specification>



    <access_specification name="readFromSubscriberLookup">

      <query query="SELECT KULLANICI_KIMLIK, CAST(ADSL_NO AS INTEGER) AS ADSL_NO, IL, ILCE, MAHALLE, MUDURLUK, SANTRAL, DSLAM, DSLAM_IP, MPLS_ID, MPLS_ADI, REDBACK_ID, REDBACK_NAME, SERVIS, BOLGE_ADI, TO_CHAR(ADSL_SATIS_TARIHI) AS ADSL_SATIS_TARIHI, PROD_OFR, URUN_STATUSU, SON_GERCEKLESEN_BI, TO_CHAR(SON_GERCEKLESEN_BI_TARIHI) as SON_GERCEKLESEN_BI_TARIHI , TO_CHAR(SON_NAKIL_TARIHI) AS SON_NAKIL_TARIHI, CUST_TP, DSL_QUOTA , LIMITLI_LIMITSIZ, IS_NDSL, IPTV_NO, to_char(FIBER_MIGRATION_TARIHI) as FIBER_MIGRATION_TARIHI, to_char(CHURN_DATE) as CHURN_DATE, to_char(SON_ARIZA_KAYDI_TARIHI) as SON_ARIZA_KAYDI_TARIHI, SON_ARIZA_TIPI,IS_VIP FROM BIG_DATA_DATAMART" isolation_level="READ_COMMITTED" replays="1"/>

      <uses_connection connection="BIGDATALOOKUP" />

      <native_schema>

      

<column name="KULLANICI_KIMLIK" type="VARCHAR" length="100"/>

<column name="ADSL_NO" type="INTEGER" />

<column name="IL" type="VARCHAR" length="100"/>

<column name="ILCE" type="VARCHAR" length="100"/>

<column name="MAHALLE" type="VARCHAR" length="100"/>

<column name="MUDURLUK" type="VARCHAR" length="50"/>

<column name="SANTRAL" type="DOUBLE" />

<column name="DSLAM" type="VARCHAR" length="100"/>

<column name="DSLAM_IP" type="VARCHAR" length="100"/>

<column name="MPLS_ID" type="DOUBLE" />


<column name="MPLS_ADI" type="VARCHAR" length="255"/>

<column name="REDBACK_ID" type="DOUBLE" />

<column name="REDBACK_NAME" type="VARCHAR" length="100"/>

<column name="SERVIS" type="VARCHAR" length="100"/>

<column name="BOLGE_ADI" type="VARCHAR" length="100"/>

<column name="ADSL_SATIS_TARIHI" type="VARCHAR" length="100"/>

<column name="PROD_OFR" type="VARCHAR" length="100"/>

<column name="URUN_STATUSU" type="VARCHAR" length="100"/>

<column name="SON_GERCEKLESEN_BI" type="VARCHAR" length="100"/>

<column name="SON_GERCEKLESEN_BI_TARIHI" type="VARCHAR" length="100"/>

<column name="SON_NAKIL_TARIHI" type="VARCHAR" length="100"/>

<column name="CUST_TP" type="VARCHAR" length="1"/>

<column name="DSL_QUOTA" type="VARCHAR" length="100"/>

<column name="LIMITLI_LIMITSIZ" type="DOUBLE"/>

<column name="IS_NDSL" type="DOUBLE"/>

<column name="IPTV_NO" type="VARCHAR" length="100"/>

<column name="FIBER_MIGRATION_TARIHI" type="VARCHAR" length="100"/>

<column name="CHURN_DATE" type="VARCHAR" length="100"/>

<column name="SON_ARIZA_KAYDI_TARIHI" type="VARCHAR" length="100"/>

<column name="SON_ARIZA_TIPI" type="VARCHAR" length="35"/>

<column name="IS_VIP" type="DOUBLE"/>




      </native_schema> 

    </access_specification>



  </access_specifications>

</st:connections>